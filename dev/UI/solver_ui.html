<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>(5) Solve · SOCP Trajectory Optimization Documentation</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">SOCP Trajectory Optimization Documentation</span></div><form class="docs-search" action="../search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../index.html">Home</a></li><li><span class="tocitem">Using the Module</span><ul><li><a class="tocitem" href="ui.html">Overview</a></li><li><a class="tocitem" href="rocket_ui.html">(1) Rockets</a></li><li><a class="tocitem" href="objective_ui.html">(2) Objective</a></li><li><a class="tocitem" href="constraints_ui.html">(3) Constraints</a></li><li><a class="tocitem" href="augLag_ui.html">(4) Augmented Lagrangian</a></li><li class="is-active"><a class="tocitem" href="solver_ui.html">(5) Solve</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Using the Module</a></li><li class="is-active"><a href="solver_ui.html">(5) Solve</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="solver_ui.html">(5) Solve</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/danineamati/TrajOptSOCPs.jl/blob/master/docs/src/UI/solver_ui.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="User-Interface-to-Solve-the-Optimization-Problem"><a class="docs-heading-anchor" href="#User-Interface-to-Solve-the-Optimization-Problem">User Interface to Solve the Optimization Problem</a><a id="User-Interface-to-Solve-the-Optimization-Problem-1"></a><a class="docs-heading-anchor-permalink" href="#User-Interface-to-Solve-the-Optimization-Problem" title="Permalink"></a></h1><p>The solver requires a set of parameters. Thereafter, we can just run the solver using the problem defined by the augmented lagrangian.</p><h3 id="Solver-Parameters"><a class="docs-heading-anchor" href="#Solver-Parameters">Solver Parameters</a><a id="Solver-Parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Solver-Parameters" title="Permalink"></a></h3><p>The solver has many knobs. The recommended settings are below:</p><pre><code class="language-julia">currSolveParams = solverParams(0.1, 0.5,
                                8, 10,
                                10^-4,
                                10, 10^6,
                                2.5, 2, 0.2, 0.2, 0.4)
TrajOptSOCPs.solParamPrint(currSolveParams)</code></pre><pre class="documenter-example-output">
Beginning solver with parameters:
(Line Search) : a = 0.1, b = 0.5
(Loop #)      : Outer = 8, Newton = 10
(or End at)   : Δ(∇L) = 0.00010000000000000002
(Penalty)     : Δρ = 10.0, ρMax = 1.0e6
(Trust Region): Δ = 2.5
                c1 = 2.0 (with 1 &lt; c1 -&gt; true)
                c2 = 0.2 (with 0 &lt; c2 &lt; 1 -&gt; true &amp; true)
                c3 = 0.2, c4 = 0.4
                (with 0 &lt; c3 &lt; c4 &lt; 1) -&gt; true &amp; true &amp; true</pre><p>For more information, see</p><article class="docstring"><header><a class="docstring-binding" id="TrajOptSOCPs.solverParams" href="#TrajOptSOCPs.solverParams"><code>TrajOptSOCPs.solverParams</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Line Search Parameters (Notation from Toussaint Notes (2020))</p><p><code>paramA::Float16</code>         # Used in Line Search, should be [0.01, 0.3]</p><p><code>paramB::Float16</code>         # Used in Line Search, should be [0.1, 0.8]</p><hr/><p>Iteration Counter Parameters</p><p><code>maxOuterIters::Int32</code>    # Number of Outer Loop iterations</p><p><code>maxNewtonSteps::Int32</code>   # Number of Newton Steps per Outer Loop iterations</p><hr/><p>Exit Condition Parameter</p><p><code>rTol::Float64</code>           # When steps are within rTol, loop will stop.</p><hr/><p>Penalty Update Parameters</p><p><code>penaltyStep::Float16</code>    # Multiplies the penalty parameter per outer loop</p><p><code>penaltyMax::Float64</code>     # Maximum value of the penalty parameter</p><hr/><p>Trust Region Parameters (Notation from Nocedal et Yuan (1998))</p><p><code>trSizeStart::Float32</code>    # Starting size of the trust region</p><p><code>trc1::Float16</code>           # Success Size Increase Parameter (1 &lt; c1)</p><p><code>trc2::Float16</code>           # Taylor Series Error Parameter (0 &lt; c2 &lt; 1)</p><p><code>trc3::Float16</code>           # Failed Size Reduction Parameter (0 &lt; c3 &lt; c4)</p><p><code>trc4::Float16</code>           # Failed Size Reduction Parameter (c3 &lt; c4 &lt; 1)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/danineamati/TrajOptSOCPs.jl/blob/54eb1c56b491704019156bf28c1344508d97aea6/src/auglag/solverParams.jl#L6-L44">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TrajOptSOCPs.solParamPrint" href="#TrajOptSOCPs.solParamPrint"><code>TrajOptSOCPs.solParamPrint</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Prints the struct variables in the <code>solverParams</code> struct.</p><p>See also: <a href="solver_ui.html#TrajOptSOCPs.solverParams"><code>solverParams</code></a> for more information.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/danineamati/TrajOptSOCPs.jl/blob/54eb1c56b491704019156bf28c1344508d97aea6/src/auglag/solverParams.jl#L65-L69">source</a></section></article><h3 id="Solve-it!"><a class="docs-heading-anchor" href="#Solve-it!">Solve it!</a><a id="Solve-it!-1"></a><a class="docs-heading-anchor-permalink" href="#Solve-it!" title="Permalink"></a></h3><p>At last, we can solve the problem!</p><pre><code class="language-"># Initialize the primal-dual vector
# initTraj is from the rocket guess trajectory
# lambdaInit is from the dynamics constraints
initTrajPD = [initTraj; lambdaInit]

trajLambdaSolved, resArr = ALPrimalNewtonMain(initTrajPD, alRocket, currSolveParams)</code></pre><p>For more information, see</p><article class="docstring"><header><a class="docstring-binding" id="TrajOptSOCPs.ALPrimalNewtonMain" href="#TrajOptSOCPs.ALPrimalNewtonMain"><code>TrajOptSOCPs.ALPrimalNewtonMain</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">ALPrimalNewtonMain(y0::SOCP_primals, al::augLagQP_2Cone,
                       sp::solverParams, verbose = false)</code></pre><p>Performs a maximum on <code>N</code> outer steps as specified by <a href="solver_ui.html#TrajOptSOCPs.solverParams"><code>solverParams</code></a>. May return early if the residual is lower than the tolerance specified by <a href="solver_ui.html#TrajOptSOCPs.solverParams"><code>solverParams</code></a> and the constraint penalty is high enough.</p><p>The function operates on an augmented lagrangian (AL) with primals (P) only (as opposed to a Primal-Dual set-up) for second-order cone programs (SOCP). See <a href="UI/@ref"><code>newtonTRLS_ALP</code></a> for more information on the Newton Steps</p><p>returns (yStates, residuals) which are:</p><ul><li><code>yStates</code>: An array with one entry of the primal vector per Newton step</li><li><code>residuals</code>: An array with one entry of the residual vector per Newton step</li></ul><p>See also: <a href="UI/@ref"><code>augLagQP_2Cone</code></a>, <a href="UI/@ref"><code>SOCP_primals</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/danineamati/TrajOptSOCPs.jl/blob/54eb1c56b491704019156bf28c1344508d97aea6/src/solver/AL-Primal-Main-Solver.jl#L271-L288">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="augLag_ui.html">« (4) Augmented Lagrangian</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 11 August 2020 17:25">Tuesday 11 August 2020</span>. Using Julia version 1.0.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
